{% extends "base.html" %}
{% block title %}Nuevo proyecto{% endblock %}

{% block content %}
<div class="page-header d-flex flex-wrap justify-content-between align-items-center gap-2">
    <div>
        <h1 class="h3 mb-1">Crear proyecto</h1>
        <p class="text-muted mb-0">Registra un nuevo proyecto asociado a la empresa seleccionada.</p>
    </div>
    <a class="btn btn-outline-secondary" href="{% url 'companies:company_list' %}">Volver</a>
</div>

<div class="card mt-3">
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label" for="{{ form.title.id_for_label }}">Título</label>
                    {{ form.title }}
                    {% if form.title.errors %}<div class="invalid-feedback d-block">{{ form.title.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="{{ form.knowledge_area.id_for_label }}">Área de conocimiento</label>
                    {{ form.knowledge_area }}
                    {% if form.knowledge_area.errors %}<div class="invalid-feedback d-block">{{ form.knowledge_area.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-12">
                    <label class="form-label" for="{{ form.description.id_for_label }}">Descripción</label>
                    {{ form.description }}
                    {% if form.description.errors %}<div class="invalid-feedback d-block">{{ form.description.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="{{ form.budget.id_for_label }}">Presupuesto</label>
                    {{ form.budget }}
                    {% if form.budget.errors %}<div class="invalid-feedback d-block">{{ form.budget.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="{{ form.max_apprentices.id_for_label }}">Cupo de aprendices</label>
                    {{ form.max_apprentices }}
                    {% if form.max_apprentices.errors %}<div class="invalid-feedback d-block">{{ form.max_apprentices.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-md-4">
                    <label class="form-label" for="{{ form.start_date.id_for_label }}">Fecha de inicio</label>
                    {{ form.start_date }}
                    {% if form.start_date.errors %}<div class="invalid-feedback d-block">{{ form.start_date.errors|join:', ' }}</div>{% endif %}
                </div>
                <div class="col-md-6">
                    <label class="form-label" for="{{ form.end_date.id_for_label }}">Fecha de finalización</label>
                    {{ form.end_date }}
                    {% if form.end_date.errors %}<div class="invalid-feedback d-block">{{ form.end_date.errors|join:', ' }}</div>{% endif %}
                </div>
            </div>

            <div class="d-flex justify-content-end gap-2 mt-4">
                <a class="btn btn-outline-secondary" href="{% url 'companies:company_projects' view.kwargs.pk %}">Cancelar</a>
                <button class="btn btn-primary" type="submit">
                    <i class="bi bi-save"></i> Guardar proyecto
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
